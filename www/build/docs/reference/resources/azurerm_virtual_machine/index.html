<!DOCTYPE html><html><head><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta charset="utf-8" /><meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport" /><link href="/favicon.png" rel="icon" type="image/png" /><link href="/favicon.ico" rel="icon" /><title>About the azurerm_virtual_machine Resource</title><meta name="description" /><link href="/css/inspec_tutorial.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/vendor/fontawesome.min.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/site.css" rel="stylesheet" /></head><body class="docs docs_reference docs_reference_resources docs_reference_resources_azurerm_virtual_machine docs_reference_resources_azurerm_virtual_machine_index"><script>gm_session_id = 'inspecGlobalMessage8';</script><div class="container"><nav class="shadow" id="main-nav"><progress value="0"></progress><div id="main-nav-ctas"><a class="main-nav--logo" href="/"><img alt="logo for Chef InSpec" onerror="this.src='/images/chef-inspec.png'" src="/images/chef-inspec.svg" /></a><i class="fa fa-bars main-nav--toggle strict-right mobile-show"></i><ul class="main-nav--links"><li class="main-nav--link"><a href="/tutorials" class="link " <span class="main-nav--link-text">Tutorials</span></a></li><li class="main-nav--link"><a href="/docs" class="link " <span class="main-nav--link-text">Docs</span></a></li><li class="main-nav--link"><a href="/community" class="link " <span class="main-nav--link-text">Community</span></a></li><li class="main-nav--link"><a class="link" href="https://github.com/chef/inspec"><i class="fa fa-github"></i><span class="main-nav--link-text">Github</span></a></li><li class="nav-cta"><a class="button btn-sm btn-purple" href="/docs/reference/install"><i class="fa fa-cloud-download"></i>Download</a></li></ul></div></nav><main id="main-content"><!--header search--><header class="bg-gradient margin-top-offset relative"><div class="row"><div class="columns large-12 medium-12 z-20"><div class="flex align margin-both"><form action="/docs/search/" class="main-sidebar--search shadow-dark" method="get"><input class="st-default-search-input" name="q" placeholder="Search documentation..." type="search" /></form></div></div></div><div id="particles-second"><canvas class="particles-js-canvas-el" /></div></header><div class="row margin-both relative"><column class="columns large-3 medium-3 mobile-hide" id="sidebar"><ul class="main-sidebar--links"><li class="main-sidebar--link"><small>Getting Started</small><ul class="main-sidebar--list no-bullet"><li class="main-sidebar--list--item--a"><a href="/docs">Overview</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/install">Install and Uninstall</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/platforms">Chef InSpec for the cloud</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/tutorials">Tutorials</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/inspec_and_friends">Chef InSpec and friends</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/glossary">Chef InSpec Glossary</a><i class="fa fa-angle-double-right focus strict-right"></i></li></ul></li><li class="main-sidebar--link"><small>Reference</small><ul class="main-sidebar--list no-bullet"><li class="main-sidebar--list--item--a"><a href="/docs/reference/cli">inspec executable</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/profiles">Profiles</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/resources">Resources</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/inputs">Inputs</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/matchers">Matchers</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/reporters">Reporters</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/config">Configuration</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/dsl_inspec">Chef InSpec DSL</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/style">Profile Style guide</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/dsl_resource">Custom Resources</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/plugins">Plugins</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/plugin_kitchen_inspec">kitchen-inspec</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/shell">inspec shell</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/habitat">Chef Habitat Integration</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/migration">Migration from Serverspec</a><i class="fa fa-angle-double-right focus strict-right"></i></li><li class="main-sidebar--list--item--a"><a href="/docs/reference/waivers">Waivers</a><i class="fa fa-angle-double-right focus strict-right"></i></li></ul></li></ul></column><column class="columns large-9 medium-9 mobile-12" id="mainbar"><h1 id="azurerm_virtual_machine">azurerm_virtual_machine</h1>

<p>Use the <code>azurerm_virtual_machine</code> InSpec audit resource to test properties related to a
virtual machine.</p>

<p><br /></p>

<h2 id="azure-rest-api-version">Azure REST API version</h2>

<p>This resource interacts with version <code>2017-12-01</code> of the Azure
Management API. For more information see the <a href="https://docs.microsoft.com/en-us/rest/api/compute/virtualmachines/get">official Azure documentation</a>.</p>

<p>At the moment, there doesn&rsquo;t appear to be a way to select the version of the
Azure API docs. If you notice a newer version being referenced in the official
documentation please open an issue or submit a pull request using the updated
version.</p>

<h2 id="availability">Availability</h2>

<h3 id="installation">Installation</h3>

<p>This resource is available in the <code>inspec-azure</code> <a href="https://www.inspec.io/docs/reference/glossary/#resource-pack">resource
pack</a>. To use it, add the
following to your <code>inspec.yml</code> in your top-level profile:</p>
<div class="highlight"><pre class="highlight plaintext"><code>depends:
  inspec-azure:
    git: https://github.com/inspec/inspec-azure.git
</code></pre></div>
<p>You&rsquo;ll also need to setup your Azure credentials; see the resource pack
<a href="https://github.com/inspec/inspec-azure#inspec-for-azure">README</a>.</p>

<h3 id="version">Version</h3>

<p>This resource first became available in 1.0.0 of the inspec-azure resource pack.</p>

<h2 id="syntax">Syntax</h2>

<p>The <code>resource_group</code> and virtual machine <code>name</code> must be given as
    parameters.</p>
<div class="highlight"><pre class="highlight plaintext"><code>describe azurerm_virtual_machine(resource_group: 'MyResourceGroup', name: 'MyVmName') do
  ...
end
</code></pre></div>
<p><br /></p>

<h2 id="examples">Examples</h2>

<h3 id="ensure-that-the-virtual-machine-has-the-expected-data-disks">Ensure that the virtual machine has the expected data disks</h3>
<div class="highlight"><pre class="highlight plaintext"><code>describe azurerm_virtual_machine(resource_group: 'MyResourceGroup', name: 'MyVmName') do
  its('data_disks') { should include 'DataDisk1' }
  its('data_disks') { should include 'DataDisk2' }
end
</code></pre></div>
<h3 id="ensure-that-the-virtual-machine-has-the-expected-monitoring-agent-installed">Ensure that the virtual machine has the expected monitoring agent installed</h3>
<div class="highlight"><pre class="highlight plaintext"><code>describe azurerm_virtual_machine(resource_group: 'MyResourceGroup', name: 'MyVmName') do
  it { should have_monitoring_agent_installed }
end
</code></pre></div>
<p><br /></p>

<h2 id="parameters">Parameters</h2>

<ul>
<li><code>resource_group</code>, <code>name</code></li>
</ul>

<h2 id="parameter-examples">Parameter Examples</h2>

<h3 id="resource_group-required">resource_group (required)</h3>

<p>Defines the resource group that the virtual machine that you wish to test resides
    in.</p>
<div class="highlight"><pre class="highlight plaintext"><code>describe azurerm_virtual_machine(resource_group: 'MyResourceGroup', name: 'MyVmName') do
  ...
end
</code></pre></div>
<h3 id="name-required">name (required)</h3>

<p>Defines the name of the virtual machine that you wish to
    test.</p>
<div class="highlight"><pre class="highlight plaintext"><code>describe azurerm_virtual_machine(resource_group: 'MyResourceGroup', name: 'MyVmName') do
  ...
end
</code></pre></div>
<h2 id="attributes">Attributes</h2>

<ul>
<li><code>id</code></li>
<li><code>name</code></li>
<li><code>location</code></li>
<li><code>properties</code></li>
<li><code>resources</code></li>
<li><code>tags</code></li>
<li><code>type</code></li>
<li><code>zones</code></li>
<li><code>installed_extensions_types</code></li>
<li><code>installed_extensions_names</code></li>
<li><code>monitoring_agent_installed</code></li>
<li><code>os_disk_name</code></li>
<li><code>data_disk_names</code></li>
</ul>

<h3 id="id">id</h3>

<p>The virtual machine&rsquo;s id.</p>
<div class="highlight"><pre class="highlight plaintext"><code>its('id') { should eq(id) }
</code></pre></div>
<p>Id will be in
    format:</p>
<div class="highlight"><pre class="highlight plaintext"><code>'/subscriptions/&lt;SUBSCRIPTION_ID&gt;/resourceGroups/MyResourceGroup/providers/Microsoft.Compute/virtualMachines/MyVirtualMachine'
</code></pre></div>
<h3 id="name">name</h3>

<p>The virtual machine&rsquo;s name.</p>
<div class="highlight"><pre class="highlight plaintext"><code>its('name') { should eq('MyVmName') }
</code></pre></div>
<h3 id="location">location</h3>

<p>The virtual machine&rsquo;s location.</p>
<div class="highlight"><pre class="highlight plaintext"><code>its('location') { should eq('East US') }
</code></pre></div>
<h3 id="tags">tags</h3>

<p>The virtual machine&rsquo;s tags.</p>
<div class="highlight"><pre class="highlight plaintext"><code>its('tags') { should eq({ 'key' =&gt; 'value' }) }
</code></pre></div>
<h3 id="type">type</h3>

<p>The virtual machine&rsquo;s resource type.</p>
<div class="highlight"><pre class="highlight plaintext"><code>its('type') { should eq('Microsoft.Compute/virtualMachines') }
</code></pre></div>
<h3 id="zones">zones</h3>

<p>The virtual machine&rsquo;s availability zones.</p>
<div class="highlight"><pre class="highlight plaintext"><code>its('zones') should include('zone1', 'zone2')
</code></pre></div>
<h3 id="os_disk_name">os_disk_name</h3>

<p>The virtual machine&rsquo;s operating system disk name.</p>
<div class="highlight"><pre class="highlight plaintext"><code>its('os_disk_name') { should eq('OsDiskName') }
</code></pre></div>
<h3 id="data_disk_names">data_disk_names</h3>

<p>The virtual machine&rsquo;s data disk names.</p>
<div class="highlight"><pre class="highlight plaintext"><code>its('data_disk_names') { should include('DataDisk1') }
</code></pre></div>
<h3 id="installed_extensions_types">installed_extensions_types</h3>

<p>List of all installed extensions&rsquo; types for the virtual machine.</p>
<div class="highlight"><pre class="highlight plaintext"><code>its('installed_extensions_types') { should eq(['ExtensionType']) }
</code></pre></div>
<h3 id="installed_extensions_names">installed_extensions_names</h3>

<p>List of all installed extensions&rsquo; names for the virtual machine.</p>
<div class="highlight"><pre class="highlight plaintext"><code>its('installed_extensions_names') { should eq(['ExtensionName']) }
</code></pre></div>
<h3 id="other-attributes">Other Attributes</h3>

<p>There are additional attributes that may be accessed that we have not
documented. Please take a look at the <a href="#-Azure-REST-API-version">Azure documentation</a>.
Any attribute in the response may be accessed with the key names separated by
dots (<code>.</code>).</p>

<p>The API may not always return keys that do not have any associated data. There
may be cases where the deeply nested property may not have the desired
attribute along your call chain. If you find yourself writing tests against
properties that may be nil, fork this resource pack and add an accessor to the
resource. Within that accessor you&rsquo;ll be able to guard against nil keys. Pull
requests are always welcome.</p>

<h2 id="matchers">Matchers</h2>

<p>This InSpec audit resource has the following special matchers. For a full list of
available matchers, please visit our <a href="https://www.inspec.io/docs/reference/matchers/">Universal Matchers
page</a>.</p>

<h3 id="exists">exists</h3>
<div class="highlight"><pre class="highlight plaintext"><code># If a virtual machine is found it will exist
describe azurerm_virtual_machine(resource_group: 'MyResourceGroup', name: 'MyVmName') do
  it { should exist }
end

# virtual machines that aren't found will not exist
describe azurerm_virtual_machine(resource_group: 'MyResourceGroup', name: 'DoesNotExist') do
  it { should_not exist }
end
</code></pre></div>
<h3 id="have_only_approved_extensions">have_only_approved_extensions</h3>
<div class="highlight"><pre class="highlight plaintext"><code># Check if a virtual machine has only approved extensions. If an extension
# is used that's not in the list then the check will fail.
describe azurerm_virtual_machine(resource_group: 'MyResourceGroup', name: 'MyVmName') do
  it { should have_only_approved_extensions(['ApprovedExtension', 'OtherApprovedExtensions']) }
end
</code></pre></div>
<h3 id="have_monitoring_agent_installed">have_monitoring_agent_installed</h3>
<div class="highlight"><pre class="highlight plaintext"><code># Will be true if the MicrosoftMonitoringAgent is installed (Windows only)
describe azurerm_virtual_machine(resource_group: 'MyResourceGroup', name: 'MyVmName') do
  it { should have_monitoring_agent_installed }
end
</code></pre></div>
<h3 id="have_endpoint_protection_installed">have_endpoint_protection_installed</h3>
<div class="highlight"><pre class="highlight plaintext"><code># Will be true if any of the given extensions are installed.
describe azurerm_virtual_machine(resource_group: 'MyResourceGroup', name: 'MyVmName') do
  it { should have_endpoint_protection_installed(['Extension1', 'Extension2']) }
end
</code></pre></div>
<h2 id="azure-permissions">Azure Permissions</h2>

<p>Your <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal">Service
Principal</a>
must be setup with a <code>contributor</code> role on the subscription you wish to test.</p>
</column><div class="scrollToTop shadow-dark"><img id="scrollup" onerror="this.src='/images/home/arrow.png'" src="/images/home/arrow.svg" /></div></div><script>// Swiftype JS code snippet
(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','xzyJV6P7pgscygGyyTm8','2.0.0');
// end Swiftype code snippet

document.getElementsByClassName("st-default-search-input")[0].focus();</script></main></div><footer class="dark-bg" id="main-footer"><div class="strict-center" id="dlmsg"><div class="pad-under-xs"><img alt="image of octagon spinning" id="hex" onerror="this.src='/images/octagon.png'" src="/images/octagon.svg" /></div><h3 class="t-white pad-under-xs">Get started with Chef InSpec and rock on.</h3><div class="row align columns"><div class="strict-center"><a class="button btn-lg btn-purple shadow-dark margin-right-xs mobile-row-btn" href="/downloads"><i class="fa fa-cloud-download"></i><span>download InSpec 4</span></a><a class="button btn-lg btn-white-o shadow-dark mobile-row-btn" href="/tutorials">browse tutorials</a></div></div></div><div class="flex align"><div class="columns large-4 medium-4 mobile-hide"><ul class="footer--logos"><li><a class="footer--logo inspec" href="/"><img alt="logo for Chef InSpec" src="/images/chef-inspec.png" /></a></li><li><a class="footer--logo chef" href="https://www.chef.io"><img alt="logo for Chef Software" src="/images/chef-logo.png" /></a></li></ul></div><div class="columns large-8 medium-8"><ul class="footer--links strict-right"><li><a class="link footer--link" href="https://docs.chef.io/chef_license.html">Licensing</a></li><li><a class="link footer--link" href="https://www.chef.io/terms-of-service/">Terms &amp; Conditions</a></li><li><a class="link footer--link" href="https://www.chef.io/trademark-policy/">Trademark Policy</a></li><li><a class="link footer--link" href="https://www.chef.io/privacy-policy/">Privacy Policy</a></li><li><a class="link footer--link" href="https://www.chef.io/cookie-policy/">Cookie Policy</a></li></ul><div class="columns margin-both-xs mobile-show"><ul class="footer--logos"><li><a class="footer--logo inspec" href="/"><img alt="logo for Chef InSpec" src="/images/chef-inspec.png" /></a></li><li><a class="footer--logo chef" href="http://www.chef.io"><img alt="logo for Chef Software" src="/images/chef-logo.png" /></a></li></ul></div></div></div><p class="strict-center pad-under-xs"><small class="t-gray">&copy; Chef Software 2015-2020</small></p></footer><script src="https://buttons.github.io/buttons.js"></script><script src="/scripts/inspec_tutorial.js"></script><script src="/dist/inspec_tutorial.js"></script><script src="/javascripts/vendor/jquery.min.js"></script><script src="https://s3.amazonaws.com/menumaker/menumaker.min.js"></script><div class="inspec-tutorial" hidden="true" inspec-tutorial="true">Loading</div><script src="/javascripts/all.js"></script><script>function initSlideGroup(group) {
  var prev = -1;
  var links = $(group).find('a')

  links.click(function(e) {
    e.stopPropagation()

    links.removeClass('selected')
    $(this).addClass('selected')

    var idx = $(this).index();
    if(prev == idx) return;
    prev = idx;

    $('.slider .view.slide-in').removeClass('slide-in').addClass('slide-out')
    var el = $('.slider .view')[idx]
    if(el == null) {
      console.log("No element for slider index "+idx)
      return
    }

    $(el).removeClass('slide-out').removeClass('hidden').addClass('slide-in')
  })

  if(links[0] != null) links[0].click();
}

function initSliders() {
  $('.slider .view').addClass('hidden')
  var groups = $('.slider .selectors')
  groups.each(function(idx){
    initSlideGroup(this)
  })
}

//run code colors

$(document).ready(function() {
  initSliders()
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});

//copy to clipboard

function copyToClipboard(element) {
  var $temp = $("<input>");
  $("body").append($temp);
  $temp.val($(element).text()).select();
  document.execCommand("copy");
  $temp.remove();
}

$('#copy').hover(function() {
   $('#install').toggleClass("text-focus");
});

$('#copy').click(function() {
   $(this).removeClass("fa-copy");
   $(this).addClass("fa-check");

 setTimeout(() => {
   $(this).removeClass('fa-check').addClass('fa-copy');
  }, 1500);
});

// homepage content slider

// tutorial content slider

$(function() {
  $(".collapseContent").hide();
  $(".collapsebtn").addClass("fa-plus-square");

   $('.collapseToggle').click(function() {
      var el = $(this).parent().find('.collapseContent')
      el.slideToggle("fast")
      // $('.collapseContent').slideToggle("fast");
      var btn = $(this).find('.collapsebtn')
      if(btn.hasClass('fa-minus-square')) {
        btn.addClass('fa-plus-square')
        btn.removeClass('fa-minus-square')
      } else {
        btn.addClass('fa-minus-square')
        btn.removeClass('fa-plus-square')
      }
   });
});



// scroll spy animations

var $slide_left = $('.slide-left');
var $slide_right = $('.slide-right');
var $slide_up = $('.slide-up');
var $slide_up_slow = $('.slide-up-slow');
var $window = $(window);

function check_if_in_view() {
  var window_height = $window.height();
  var window_top_position = $window.scrollTop();
  var window_bottom_position = (window_top_position + window_height);

  $.each($slide_left, function() {
    var $element = $(this);
    var element_height = $element.outerHeight();
    var element_top_position = $element.offset().top;
    var element_bottom_position = (element_top_position + element_height);

    //check to see if this current container is within viewport
    if ((element_bottom_position >= window_top_position) &&
        (element_top_position <= window_bottom_position)) {
      $element.addClass('in-view');
    } else {
      $element.removeClass('in-view');
    }
  });

  $.each($slide_right, function() {
    var $element = $(this);
    var element_height = $element.outerHeight();
    var element_top_position = $element.offset().top;
    var element_bottom_position = (element_top_position + element_height);

    //check to see if this current container is within viewport
    if ((element_bottom_position >= window_top_position) &&
        (element_top_position <= window_bottom_position)) {
      $element.addClass('in-view');
    } else {
      $element.removeClass('in-view');
    }
  });

  $.each($slide_up, function() {
    var $element = $(this);
    var element_height = $element.outerHeight();
    var element_top_position = $element.offset().top;
    var element_bottom_position = (element_top_position + element_height);

    //check to see if this current container is within viewport
    if ((element_bottom_position >= window_top_position) &&
        (element_top_position <= window_bottom_position)) {
      $element.addClass('in-view');
    } else {
      $element.removeClass('in-view');
    }
  });

  $.each($slide_up_slow, function() {
    var $element = $(this);
    var element_height = $element.outerHeight();
    var element_top_position = $element.offset().top;
    var element_bottom_position = (element_top_position + element_height);

    //check to see if this current container is within viewport
    if ((element_bottom_position >= window_top_position) &&
        (element_top_position <= window_bottom_position)) {
      $element.addClass('in-view');
    } else {
      $element.removeClass('in-view');
    }
  });
}

$window.on('scroll resize', check_if_in_view);
$window.trigger('scroll');

//scroll to top
$(document).ready(function(){

  $(window).scroll(function(){
    if ($(this).scrollTop() > 100) {
      $('.scrollToTop').fadeIn();
    } else {
      $('.scrollToTop').fadeOut();
    }
  });

  $('.scrollToTop').click(function(){
    $('html, body').animate({scrollTop : 0},800);
    return false;
  });

  // scrolling to resource sections
  $(".resources-button").click(function() {
    var dst = $(this).attr("href")
    $(".resources-button").removeClass("btn-purple").addClass("btn-purple-o")
    $(this).addClass("btn-purple").removeClass("btn-purple-o")
    $("html, body").animate({
        scrollTop: $(dst).offset().top - 105
    }, 1000);
  });

});

//scrolling code box

var div = $('#scrolled');
   setInterval(function(){
    var pos = div.scrollTop();
    div.scrollTop(pos + 2);
}, 200);

//Animating progress bar for header

$(document).ready(function(){

var getMax = function(){
    return $(document).height() - $(window).height();
}

var getValue = function(){
    return $(window).scrollTop();
}

if('max' in document.createElement('progress')){
    // Browser supports progress element
    var progressBar = $('progress');

    // Set the Max attr for the first time
    progressBar.attr({ max: getMax() });

    $(document).on('scroll', function(){
        // On scroll only Value attr needs to be calculated
        progressBar.attr({ value: getValue() });
    });

    $(window).resize(function(){
        // On resize, both Max/Value attr needs to be calculated
        progressBar.attr({ max: getMax(), value: getValue() });
    });
}
else {
    var progressBar = $('.progress-bar'),
        max = getMax(),
        value, width;

    var getWidth = function(){
        // Calculate width in percentage
        value = getValue();
        width = (value/max) * 100;
        width = width + '%';
        return width;
    }

    var setWidth = function(){
        progressBar.css({ width: getWidth() });
    }

    $(document).on('scroll', setWidth);
    $(window).on('resize', function(){
        // Need to reset the Max attr
        max = getMax();
        setWidth();
    });
    }
  });</script><script>$(document).foundation();
$('.try-demo').click(function(event){
  event.stopPropagation();
  $('.inspec-tutorial').show()
  window.dispatchEvent(new Event('resizeTerminal'));
  $('.quit-inspec-tutorial').click(function(event){
    event.stopPropagation();
    $('.inspec-tutorial').hide()
  })
});</script><script src="/javascripts/segment.js"></script></body></html>