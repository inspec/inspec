function setDimensions(){WIDTH=window.innerWidth,container.style.width=WIDTH+"px",canvas.width=WIDTH,canvas.height=HEIGHT}function Circle(){this.settings={ttl:8e3,xmax:5,ymax:2,rmax:10,rt:1,xdef:960,ydef:540,xdrift:4,ydrift:4,random:!0,blink:!0},this.reset=function(){this.x=this.settings.random?WIDTH*Math.random():this.settings.xdef,this.y=this.settings.random?HEIGHT*Math.random():this.settings.ydef,this.r=(this.settings.rmax-1)*Math.random()+1,this.dx=Math.random()*this.settings.xmax*(Math.random()<.5?-1:1),this.dy=Math.random()*this.settings.ymax*(Math.random()<.5?-1:1),this.hl=this.settings.ttl/DRAW_INTERVAL*(this.r/this.settings.rmax),this.rt=Math.random()*this.hl,this.settings.rt=Math.random()+1,this.stop=.2*Math.random()+.4,this.settings.xdrift*=Math.random()*(Math.random()<.5?-1:1),this.settings.ydrift*=Math.random()*(Math.random()<.5?-1:1)},this.fade=function(){this.rt+=this.settings.rt},this.draw=function(){this.settings.blink&&(this.rt<=0||this.rt>=this.hl)?this.settings.rt=-1*this.settings.rt:this.rt>=this.hl&&this.reset();var t=1-this.rt/this.hl;context.beginPath(),context.arc(this.x,this.y,this.r,0,2*Math.PI,!0),context.closePath();var i=this.r*t;gradient=context.createRadialGradient(this.x,this.y,0,this.x,this.y,i<=0?1:i),gradient.addColorStop(0,"rgba(255,255,255,"+t+")"),gradient.addColorStop(this.stop,"rgba(255,255,255,"+.6*t+")"),gradient.addColorStop(1,"rgba(77,101,181,0)"),context.fillStyle=gradient,context.fill()},this.move=function(){this.x+=this.rt/this.hl*this.dx,this.y+=this.rt/this.hl*this.dy,(this.x>WIDTH||this.x<0)&&(this.dx*=-1),(this.y>HEIGHT||this.y<0)&&(this.dy*=-1)},this.getX=function(){return this.x},this.getY=function(){return this.y}}function draw(){context.clearRect(0,0,WIDTH,HEIGHT);for(var t=0;t<pixies.length;t++)pixies[t].fade(),pixies[t].move(),pixies[t].draw()}var WIDTH=window.innerWidth,HEIGHT=window.innerHeight,MAX_PARTICLES=100,DRAW_INTERVAL=20,container=document.querySelector("#container"),canvas=document.querySelector("#pixie"),context=canvas.getContext("2d"),gradient=null,pixies=new Array;setDimensions(),window.addEventListener("resize",setDimensions);for(var i=0;i<MAX_PARTICLES;i++)pixies.push(new Circle),pixies[i].reset();setInterval(draw,DRAW_INTERVAL);